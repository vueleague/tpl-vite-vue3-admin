var q=Object.defineProperty,G=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var E=(o,a,s)=>a in o?q(o,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[a]=s,k=(o,a)=>{for(var s in a||(a={}))R.call(a,s)&&E(o,s,a[s]);if(x)for(var s of x(a))T.call(a,s)&&E(o,s,a[s]);return o},h=(o,a)=>G(o,O(a));var M=(o,a,s)=>new Promise((_,u)=>{var n=c=>{try{p(s.next(c))}catch(C){u(C)}},f=c=>{try{p(s.throw(c))}catch(C){u(C)}},p=c=>c.done?_(c.value):Promise.resolve(c.value).then(n,f);p((s=s.apply(o,a)).next())});import{b as V,bX as W,u as b,o as g,G as $,aO as j,aP as H,Q as e,bY as Q,q as X,m as Y,k as Z,bW as J,e as S,D as t,E as r,bZ as l,h as d,t as i,bo as A,ad as F,F as K,r as ee,f as I}from"./vendor.0b1d9c36.js";/* empty css               */import{f as v}from"./index.f26c1058.js";import{i as te,W as ae,_ as re}from"./index.ba2a0c35.js";function se(){return te({url:ae.stat,method:"get"})}const D=V({props:h(k({},W()),{strokeColor:{type:[String,Object,Function]}}),setup(o){const a=o,s=b(()=>typeof a.strokeColor=="function"?h(k({},a),{strokeColor:a.strokeColor(a.percent)}):h(k({},a),{strokeColor:a.strokeColor}));return(_,u)=>(g(),$(e(Q),j(H(e(s))),null,16))}});const le={class:"sys-server-stat-container"},oe={class:"disk-info"},ue={class:"disk-info--item"},ne={class:"disk-info"},ce={class:"disk-info--item"},de={name:"SystemMonitorServe"},ie=V(h(k({},de),{setup(o){let a=-1;const s=X({runtime:{os:"",arch:"",nodeVersion:"",npmVersion:""},disk:{size:0,used:0,available:0},memory:{total:0,available:0},cpu:{manufacturer:"",brand:"",physicalCores:0,model:"",speed:0,rawCurrentLoad:0,rawCurrentLoadIdle:0,coresLoad:[]}}),{runtime:_,disk:u,memory:n,cpu:f}=Y(s),p=b(()=>({size:v(u.value.size),used:v(u.value.used),available:v(u.value.available)})),c=b(()=>({total:v(n.value.total),free:v(n.value.available),used:v(n.value.total-n.value.available)})),C=b(()=>u.value.size<=0?0:Math.floor(u.value.used/u.value.size*100)),N=b(()=>n.value.total<=0?0:Math.floor((n.value.total-n.value.available)/n.value.total*100)),U=b(()=>`${f.value.manufacturer} ${f.value.brand} @ ${f.value.speed}GHz`),P=()=>M(this,null,function*(){const m=yield se();_.value=m.runtime,u.value=m.disk,n.value=m.memory,f.value=m.cpu});P();const y=m=>m<30?"#5cb87a":m<70?"#e6a23c":"#f53f3f",z=(m,w)=>w<=0?0:Math.floor(m/w*100);return Z(()=>{a=setInterval(P,1e4)}),J(()=>{clearInterval(a)}),(m,w)=>(g(),S("div",le,[t(e(F),{class:"stat-card",title:"\u8FD0\u884C\u73AF\u5883"},{default:r(()=>[t(e(l),{column:1,"label-style":{width:"50%"}},{default:r(()=>[t(e(l).Item,{label:"\u64CD\u4F5C\u7CFB\u7EDF"},{default:r(()=>[d(i(e(_).os),1)]),_:1}),t(e(l).Item,{label:"\u7CFB\u7EDF\u67B6\u6784"},{default:r(()=>[d(i(e(_).arch),1)]),_:1}),t(e(l).Item,{label:"Node\u7248\u672C"},{default:r(()=>[t(e(A),{color:"processing",size:"small"},{default:r(()=>[d("v"+i(e(_).nodeVersion),1)]),_:1})]),_:1}),t(e(l).Item,{label:"NPM\u7248\u672C"},{default:r(()=>[t(e(A),{color:"processing",size:"small"},{default:r(()=>[d("v"+i(e(_).npmVersion),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(e(F),{class:"stat-card",title:"CPU"},{default:r(()=>[t(e(l),{column:1,"label-style":{width:"50%"},"content-style":{width:"50%"}},{default:r(()=>[t(e(l).Item,{label:"\u8BE6\u7EC6"},{default:r(()=>[d(i(e(U)),1)]),_:1}),t(e(l).Item,{label:"\u8D1F\u8F7D"},{default:r(()=>[t(D,{percent:z(e(f).rawCurrentLoad,e(f).rawCurrentLoadIdle+e(f).rawCurrentLoad),"stroke-color":y},null,8,["percent"])]),_:1}),(g(!0),S(K,null,ee(e(f).coresLoad,(B,L)=>(g(),$(e(l).Item,{key:L,label:`\u6838\u5FC3${L+1} \u8D1F\u8F7D`},{default:r(()=>[t(D,{percent:z(B.rawLoad,B.rawLoad+B.rawLoadIdle),"stroke-color":y},null,8,["percent"])]),_:2},1032,["label"]))),128))]),_:1})]),_:1}),t(e(F),{class:"stat-card",title:"\u78C1\u76D8"},{default:r(()=>[I("div",oe,[t(e(l),{class:"disk-info--item",column:1},{default:r(()=>[t(e(l).Item,{label:"\u603B\u7A7A\u95F4"},{default:r(()=>[d(i(e(p).size),1)]),_:1}),t(e(l).Item,{label:"\u5DF2\u7528\u7A7A\u95F4"},{default:r(()=>[d(i(e(p).used),1)]),_:1}),t(e(l).Item,{label:"\u53EF\u7528\u7A7A\u95F4"},{default:r(()=>[d(i(e(p).available),1)]),_:1})]),_:1}),I("div",ue,[t(D,{type:"dashboard",percent:e(C),width:100,"stroke-color":y},null,8,["percent"])])])]),_:1}),t(e(F),{class:"stat-card",title:"\u5185\u5B58"},{default:r(()=>[I("div",ne,[t(e(l),{class:"disk-info--item",column:1},{default:r(()=>[t(e(l).Item,{label:"\u603B\u5185\u5B58"},{default:r(()=>[d(i(e(c).total),1)]),_:1}),t(e(l).Item,{label:"\u5DF2\u7528\u5185\u5B58"},{default:r(()=>[d(i(e(c).used),1)]),_:1}),t(e(l).Item,{label:"\u53EF\u7528\u5185\u5B58"},{default:r(()=>[d(i(e(c).free),1)]),_:1})]),_:1}),I("div",ce,[t(D,{type:"dashboard",percent:e(N),width:100,"stroke-color":y},null,8,["percent"])])])]),_:1})]))}}));var be=re(ie,[["__scopeId","data-v-26e2b97c"]]);export{be as default};
